<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
        <title>Habbo ~ Client</title>
        <link href="styles/style.css" type="text/css" rel="stylesheet">
    </head>
    <body id="client">
        <div id="client-topbar" style="display: block;">
            <div class="logo"><img src="images/popup_topbar_habbologo.gif" alt="" align="middle"></div>
            <div class="habbocount">
                <div id="habboCountUpdateTarget">0 members online</div>
            </div>
            <div class="logout"><a href="">logout</a></div>
        </div>
        <div>
            <object classid="clsid:166B1BCA-3F9C-11CF-8075-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=10,8,5,1,0" id="habbo" width="720" height="540">
                <param name="src" value="downloads/shockwave/20/habbo.dcr">
                <param name="swStretchStyle" value="none">
                <param name="bgColor" value="#000000">
                <param name="sw2" value="connection.info.host=game-ous.habbo.com;connection.info.port=40001">
                <param name="sw3" value="connection.mus.host=game-ous.habbo.com;connection.mus.port=40002">
                <param name="sw4" value="site.url=http://origins.habbo.com;url.prefix=http://origins.habbo.com/">
                <param name="sw5" value="client.reload.url=http://origins.habbo.com/habbo/br;client.fatal.error.url=http://origins.habbo.com/">
                <param name="sw6" value="external.variables.txt=http://origins-gamedata.habbo.com/external_variables/1">
                <param name="sw7" value="external.texts.txt=http://origins-gamedata.habbo.com/external_texts/1">
                <param name="sw8" value="client.allow.cross.domain=1;client.notify.cross.domain=0">
                <embed src="downloads/shockwave/20/habbo.dcr" bgcolor="#000000" width="720" height="540" swvolume="true"
                    swrestart="false" swpauseplay="false" swfastforward="false" swtitle="Habbo Hotel" swcontextmenu="true"
                    swstretchstyle="none" swtext="" type="application/x-director" pluginspage="http://www.macromedia.com/shockwave/download/"
                    sw2="connection.info.host=game-ous.habbo.com;connection.info.port=40001"
                    sw3="connection.mus.host=game-ous.habbo.com;connection.mus.port=40002"
                    sw4="site.url=http://origins.habbo.com;url.prefix=http://origins.habbo.com/"
                    sw5="client.reload.url=http://origins.habbo.com/habbo/br;client.fatal.error.url=http://origins.habbo.com/"
                    sw6="external.variables.txt=http://origins-gamedata.habbo.com/external_variables/1"
                    sw7="external.texts.txt=http://origins-gamedata.habbo.com/external_texts/1"
                    sw8="client.allow.cross.domain=1;client.notify.cross.domain=0">
            </object>
        </div>
        <script>
            (function() {
                function fetchOnlineUsers(callback) {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4) { // request finished and response is ready
                            if(this.status == 200) {
                                var data = JSON.parse(this.responseText);
                                if(data.onlineUsers) {
                                    callback(data.onlineUsers+" members online");
                                    return;
                                }
                            }
                            callback("Failed to fetch online users");
                        }
                    };
                    xhttp.open("GET", "https://origins.habbo.com/api/public/origins/users", true);
                    xhttp.send();
                }
                fetchOnlineUsers(function(onlineMessage) {
                    document.getElementById("habboCountUpdateTarget").innerHTML = onlineMessage;
                });
            })();
        </script>
    </body>
</html>